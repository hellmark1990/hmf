{% extends "BookBundle::layout.html.twig" %}

{% block body -%}
    {{ parent() }}

    <div class="grid-list-view book-share-view-container container share-books-list">
        <div id="sticky" class="well well-sm">
            <div class="top-panel-content container">
                <div class="center">
                    <h1>"{{ book.name }}" {% trans %}read by{% endtrans %} {{ book.user.username }}</h1>
                </div>
            </div>
        </div>
        <div id="products" class="row list-group">
            <div class="book-content container">
                <div class="pull-left image-block">
                    <div class="image">
                        <img class="group list-group-image" src="{% path book.image, 'small' %}" alt=""/>
                    </div>
                </div>

                <div class="pull-right data-block">
                    <div class="name">
                        <span class="item-title">
                            {% trans %}Title:{% endtrans %}
                        </span>
                        <span class="item-value">
                            "{{ book.name }}"
                        </span>
                    </div>
                    <div class="author">
                        <span class="item-title">
                            {% trans %}Author:{% endtrans %}
                        </span>
                        <span class="item-value">
                            {{ book.authors }}
                        </span>
                    </div>
                    <div class="publisher">
                        <span class="item-title">
                            {% trans %}Publisher:{% endtrans %}
                        </span>
                        <span class="item-value">
                            {{ book.publisher }}
                        </span>
                    </div>
                    <div class="publishedDate">
                        <span class="item-title">
                            {% trans %}Published in:{% endtrans %}
                        </span>
                        <span class="item-value">
                            {{ book.publishedDate|date("Y.m.d") }}
                        </span>
                    </div>
                    <div class="pageCount">
                        <span class="item-title">
                            {% trans %}Pages count:{% endtrans %}
                        </span>
                        <span class="item-value">
                            {{ book.pageCount }}
                        </span>
                    </div>
                    <div class="language">
                        <span class="item-title">
                            {% trans %}Language:{% endtrans %}
                        </span>
                        <span class="item-value">
                            {{ service_language.getLanguageByLocale(book.language) }}
                        </span>
                    </div>
                </div>
                <div class="book-tabs">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs nav-justified" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#description" aria-controls="description" role="tab" data-toggle="tab">
                                {% trans %}Description{% endtrans %}
                            </a>
                        </li>
                        <li role="presentation">
                            <a href="#shelves" aria-controls="shelves" role="tab" data-toggle="tab">
                                {% trans %}Shelves{% endtrans %} ({{ book.shelfs.count }})
                            </a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="description">
                            {{ book.description|raw }}
                        </div>
                        <div role="tabpanel" class="tab-pane" id="shelves">
                            <div class="grid-list-view container-shelf-list">
                                {% if book.shelfs %}
                                    <div id="products" class="row list-group">
                                        {% for entity in book.shelfs %}
                                            <div class="item  col-xs-4 col-lg-4 grid-group-item">
                                                <div class="thumbnail">
                                                    {% if entity.image %}
                                                        <img class="group list-group-image" src="{% path entity.image, 'small' %}" alt=""/>
                                                    {% else %}
                                                        <img class="group list-group-image no-image" src="/uploads/no-image.png" alt=""/>
                                                    {% endif %}

                                                    <div class="caption">
                                                        <h4 class="group inner list-group-item-heading">
                                                            {{ entity.title }}
                                                        </h4>

                                                        <p class="group inner list-group-item-text read-comment">{{ entity.description|striptags|truncate(120) }}</p>

                                                        <div class="row">
                                                            <div class="col-xs-12 col-md-6">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

{% endblock %}
